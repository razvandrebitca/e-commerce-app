<ion-header class="mybg">
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
        <ion-back-button ></ion-back-button>
    </ion-buttons>
    <ion-title color="light">Details</ion-title>
  </ion-toolbar>

</ion-header>

<ion-content>
  <ion-slides pager="false" [options]="slideOpts" (ionSlideDidChange)="change()" #Slides>
    <ion-slide>
      <app-product-data (notify)="onReviewClick($event)" [product]="product" [slider]="slider" class="slide"></app-product-data>
    </ion-slide>
    <ion-slide padding class="light-bg">
     
      <ion-row>
        <ion-col *ngFor="let data of dataService.products_1;" size="6">
          <ion-card class="card" no-margin (click)="open(data)">
            <ion-badge class="badge" *ngIf="data.offer">{{data.discount}}%</ion-badge>
            <img src="https://picsum.photos/500/500" [alt]="data.name">
            <ion-card-content>
              <ion-card-title>
                <ion-row>
                  <ion-col *ngIf="data.offer" no-padding>
                    <ion-text text-left><span class="price"><span class="inline">{{data.currency}}{{data.cost_price}}</span> <strong>{{data.currency}}{{fun.calculate(data.cost_price, data.discount)}}</strong></span></ion-text>
                  </ion-col>
                  <ion-col *ngIf="!data.offer" no-padding>
                    <ion-text text-left><span class="price"><strong>{{data.currency}}{{data.cost_price}}</strong></span></ion-text>
                  </ion-col>
                </ion-row>
                <ion-row>
                  <ion-col text-left no-padding>
                    <h6 text-left class="subtitle">{{data.bought}}+ bought this</h6>
                  </ion-col>
                </ion-row>
              </ion-card-title>
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-slide>
    <ion-slide>
      <ion-row align-items-center justify-content-center>
        <ion-col size="6">
          <ion-row justify-content-center margin-top>
            <ion-text><h6 text-center class="small gray" color="light"><strong>OVERALL</strong></h6></ion-text>
          </ion-row>
          <ion-row justify-content-center>
            <ion-text *ngIf="bool">
              <span class="margin"><strong>{{product.rating}}</strong></span>
              <ion-icon name="star" color="primary" *ngFor="let i of fun.array(product.rating)"></ion-icon>
              <ion-icon name="star-outline" color="primary" *ngFor="let i of fun.array(5-product.rating)"></ion-icon>
              <div class="margin rate-small">{{product.rating_count}} Ratings</div>
            </ion-text>
            <ion-text *ngIf="!bool">
              <span class="margin"><strong>{{product.store_rate}}</strong></span>
              <ion-icon name="star" color="primary" *ngFor="let i of fun.array(product.store_rate)"></ion-icon>
              <ion-icon name="star-outline" color="primary" *ngFor="let i of fun.array(5-product.store_rate)"></ion-icon>
              <div class="margin rate-small">{{product.store_rating_count}} Ratings</div>
            </ion-text>
          </ion-row>
        </ion-col>
      </ion-row>
      <div class="sep"></div>
      <ion-row align-items-center class="row">
        <ion-button fill="outline" no-padding no-margin color="medium" class="btn"><ion-text class="filter-btn">All</ion-text></ion-button>
        <ion-button fill="outline" no-padding no-margin color="medium" class="btn"><ion-text class="filter-btn"><ion-icon name="image"></ion-icon></ion-text></ion-button>
        <ion-button fill="outline" no-padding no-margin color="medium" class="btn"><ion-text class="filter-btn">Top Rated</ion-text></ion-button>
        <ion-button fill="outline" no-padding no-margin color="medium" class="btn"><ion-text class="filter-btn"><ion-icon name="star" *ngFor="let i of fun.array(5)"></ion-icon></ion-text></ion-button>
        <ion-button fill="outline" no-padding no-margin color="medium" class="btn"><ion-text class="filter-btn"><ion-icon name="star" *ngFor="let i of fun.array(4)"></ion-icon></ion-text></ion-button>
        <ion-button fill="outline" no-padding no-margin color="medium" class="btn"><ion-text class="filter-btn"><ion-icon name="star" *ngFor="let i of fun.array(3)"></ion-icon></ion-text></ion-button>
        <ion-button fill="outline" no-padding no-margin color="medium" class="btn"><ion-text class="filter-btn"><ion-icon name="star" *ngFor="let i of fun.array(2)"></ion-icon></ion-text></ion-button>
        <ion-button fill="outline" no-padding no-margin color="medium" class="btn"><ion-text class="filter-btn"><ion-icon name="star" *ngFor="let i of fun.array(1)"></ion-icon></ion-text></ion-button>
      </ion-row>
      <div *ngIf="bool">
        <ion-item *ngFor="let review of product.reviews">
          <ion-row>
            <ion-col size="2"><ion-avatar class="avatar"><img src="https://picsum.photos/500/500"></ion-avatar></ion-col>
            <ion-col>
              <ion-row class="full block">
                <ion-icon float-right name="star" class="small-ico" color="primary" *ngFor="let i of fun.array(review.rating)"></ion-icon>
                <ion-icon float-right name="star-outline" class="small-ico" color="primary" *ngFor="let i of fun.array(5-review.rating)"></ion-icon>
                <h6 float-left text-start no-margin><strong>{{review.name}}</strong></h6><br>
              </ion-row>
              <ion-row class="full block">
                <h6 float-left text-start no-margin class="cmnt">{{review.comment}}</h6><br>
                <img float-left *ngFor="let img of review.images" :src="https://picsum.photos/500/500" class="rev-img">
              </ion-row>
            </ion-col>
          </ion-row>
        </ion-item>
      </div>
    </ion-slide>
 
  </ion-slides>
</ion-content>
<ion-footer class="footer" align-items-center *ngIf="segment == 'Overview'">
  <ion-row align-items-center>
    <ion-col padding>
      <ion-text *ngIf="product.offer">
        <h6 no-margin class="cut">{{product.currency}}{{product.cost_price}}</h6>
      </ion-text>
      <ion-text *ngIf="product.offer">
        <h3 no-margin class="foot-highlight">{{product.currency}}{{fun.calculate(product.cost_price,
          product.discount)}}</h3>
      </ion-text>
      <ion-text *ngIf="!product.offer">
        <h3 no-margin class="foot-highlight">{{product.currency}}{{product.cost_price}}</h3>
      </ion-text>
    </ion-col>
    <ion-col size="4">
      <ion-button (click)="goToCart()" float-right class="white foot-btn" color="orange" no-margin expand="block"><strong>Buy</strong></ion-button>
    </ion-col>
  </ion-row>
</ion-footer>